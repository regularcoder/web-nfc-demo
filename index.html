<!DOCTYPE html>
<script>
  function writeLog(line) {
    const logDiv = document.getElementById("log");

    logDiv.appendChild(document.createTextNode("> " + line));
    logDiv.appendChild(document.createElement("br"));
  }

  async function startScanning() {
    if (!("NDEFReader" in window)) {
      writeLog("NDEFReader unavailable!");
    } else {
      const ndef = new NDEFReader();
      await ndef.scan();
      writeLog("Scan started");

      ndef.addEventListener("readingerror", () => {
        writeLog("Cannot read data from the NFC tag. Try another one?");
      });

      ndef.addEventListener("reading", ({ message, serialNumber }) => {
        writeLog("Hello Elizabeth!");
      });
    }
  }

  window.onload = startScanning;
</script>

<div id="log"></div>
